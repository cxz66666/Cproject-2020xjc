# Cproject-2020xjc

#### 介绍
这里是2020 程序设计专题xjc班第五组的project



**使用方式更新**：直接克隆本仓库  打开sln或者dev的源文件 自己手动编译即可 无需更加复杂操作 。  gitignore如无特殊情况 不要更改 

 vs用户：解决方案->demo->属性->c/c++->常规->附加目录中添加

~~~
..\libgraphics;..\simpleGUI;..\appcode
~~~



dev用户：项目管理->demo->右键项目属性->文件->包含文件目录->添加..\appcode即可



Demo.c中添加

~~~
#elif Demo_ID==13
#include "MyMain.c"
将Demoid改为13即可
~~~



注意：该库使用GB2312的接口/api，请创建文件格式改为GBK/GB2312（汉字两个字节），如果使用UTF-8会导致严重问题



命名方法上：统一采用**大驼峰法**，将每个单词首字母大写，避免出现大小驼峰命名冲突的情况

但由于时间仓促  仍存在小驼峰命名  需要改善



由于textbox的问题 ，cxz对imgui进行一点点小的修改，适配输入、删除中文，之后有可能还会对库动手，因此请**使用本仓库里的libgraphics。**



简单介绍：

目前主要文件形式为：

- MyData.h中存放所有全局变量，每个文件都将其include
- PreWork.c进行准备工作，包括寻找csv文件，定义颜色，进行数据展示的计算（横纵坐标）
- MyDraw.c放各种画图函数
- MyDrawTable.c放三次线性插值算法和parspl插值算法
- Readcsv.c放置读取csv文件函数
- HandleMouse.c放置处理鼠标操作函数  每次鼠标移动都对其进行调用
- MyPredict.c放置预测算法  以及画右边部分预测输入框的函数



### 已经实现：

打开文件   记得选demo1.csv

画出简单曲线

左侧勾选日期和种类

选中x y轴进行缩放操作  但是由于库本身问题会卡顿  ，以及选中曲线进行移动 同理卡顿

预测20天内的疫情数据      注意输入数据长度必须超过10

预测阶数输入   重要：

- 不写：自动根据**拟合优度/判定系数** 选择最佳拟合曲线
- 0：指数函数拟合
- 1-5：多项式拟合  多项式系数为1-5







### TODO



数据！！！！

数据！！！！



readcsv中

- ~~暂时由于读取算法受限未实现根据行数自动malloc，改进方向为根据行数自动malloc出内存~~  已经随手改进了  可以随时上 但目前还没上

- 结构体命名问题太大，stu为随手打的，尽快改善
- ~~ChooseData原意为是否选择展示某一列数据，例如展示是否展示湖北/全国疫情数据，但是命名问题太大~~  已经改进了这个命名





Prework中

- definecolor不够多，可以到https://coolors.co/  上直接调色，cxzの审美受限无法调的够好  **重要**！！！急需帮忙
- calculate 关键问题为计算显示位置  还有些适配小问题，稍微改进 **显示适配问题**
- Findcsv尽量别动，用的direct.h的api，寻找当前目录下的csv文件，还可以努力做寻找上级目录的文件



MyDrawTable 画图表算法

- 不好动，这个是lib库的问题，表现是锯齿感太强   解决办法想了好久了，呼~  呜还行吧 至少还能用
- parspl这个是备用的 ，也是找了很久   这两个基本上第一个了 ，不用再懂了



MyDraw 画图

- 封装度不够高，代码重复度太高 应进行函数封装
- 还有好多细节  比如数据多的话翻页，**显示位置限制**未实现



MyData

- 命名  
- 命名
- 命名
- 命名



HandleMouse.c

- 后续会对其功能进行增加  支持选中柱状的列



MyPredict.c

- **预测算法**，饼画大了。。~~~ 三阶以上的拟合就是弟弟，正在改  ，1，2阶完美~~~ 改的还行  可以自己选择拟合的最好的





整体功能**TODO**：

- ~~选中高亮~~

- ~~柱状图~~

- ~~放大放小~~

- ~~疫情预测~~

- 欢迎界面

- 用户手册

- ~~播放音乐就算了  挺严肃的~~

- ~~修改、写入数据 正在想实现过程~~~  

- 创建文件 我觉得不现实 

- ~~改进预测算法  正在了.jpg~~

  

额外功能：

- 整个画Table部分拖拽移动，但是感觉不好 但是应该可以实现

-  自动化检测？难道用pyautogui？不懂

- **需要思路**

  

#### 整体分工



zcx：

- 数据收集，封于csv文件中，日期40-50天足以，列数10左右  
- 欢迎界面   可以参考vscode的欢迎界面，自由发挥 尽量看着舒服   
- HELP界面   参考本readme实现的功能，美观的展示 
- 美工技术提升了.jpg  

ch：

- Review and rebuild
- 对不合适的写法直接重写，不合适的位置直接微调
- 对颜色进行修改
- 增加多数据显示
- 修改cxz的注释 ，可以使用英文或者详细的中文
- 更改命名  可以使用vs的替换功能

cxz：

- 整体框架写写写
- 实现画的大饼





#### 干巴爹